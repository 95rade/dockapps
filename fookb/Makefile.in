BIN_PATH=@prefix@/bin
SHARE_PATH=@prefix@/share/fookb
MAN_PATH=@prefix@/man/man1

# FLAGS=-Wall -g -DDEBUG @DEFS@
FLAGS=-Wall -Werror @DEFS@

GCC=@CC@

INCLUDEDIR=@X_CFLAGS@
LIBDIR=@X_LIBS@
PRELIBS=@X_PRE_LIBS@
EXTRALIBS=@X_EXTRA_LIBS@

LIBS=@LIBS@

# DEBUG
# DLIBS=-lefence
DLIBS=

fookb: fookb.o params.o images.o sound.o opts.o globals.o
	${GCC} ${PRELIBS} ${LIBDIR} ${EXTRALIBS} ${DLIBS} ${LIBS} -o fookb fookb.o params.o images.o sound.o opts.o globals.o @WUTIL_LIB@

fookb.o: fookb.c fookb.h params.h
	${GCC} -c ${FLAGS} ${INCLUDEDIR} fookb.c

params.o: params.c params.h
	${GCC} -c ${FLAGS} ${INCLUDEDIR} params.c

images.o: images.c images.h
	${GCC} -c ${FLAGS} ${INCLUDEDIR} images.c

sound.o: sound.h sound.c params.h
	${GCC} -c ${FLAGS} ${INCLUDEDIR} sound.c

opts.o: opts.h fookb.h opts.c
	${GCC} -c ${FLAGS} ${INCLUDEDIR} opts.c

globals.o: globals.c

clean:
	rm -f fookb fookb.o params.o images.o sound.o opts.o globals.o

superclean: clean
	rm -f Makefile config.*

superpuperclean: superclean
	rm -f configure
	rm -rf autom4te.cache

hyperclean:
	rm -f config.*

hyperpiperclean: hyperclean
	rm -f configure

install: fookb
	mkdir -p ${BIN_PATH}
	mkdir -p ${SHARE_PATH}
	mkdir -p ${MAN_PATH}
	cp fookb ${BIN_PATH}
	cp 1.xpm ${SHARE_PATH}
	cp 2.xpm ${SHARE_PATH}
	cp 3.xpm ${SHARE_PATH}
	cp 4.xpm ${SHARE_PATH}
	cp rus.xpm ${SHARE_PATH}
	cp lat.xpm ${SHARE_PATH}
	cp boom.xpm ${SHARE_PATH}
	cp beep_spring.au ${SHARE_PATH}
	cp fookb.1x ${MAN_PATH}
